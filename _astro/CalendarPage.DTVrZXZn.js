import{e as ht,i as We,b as $e,h as $,a as Ce,c as pt,U as Te,d as te,s as he,m as pe,q as Ke,f as Re,g as He,j as Ue,k as ae,r as ie,l as le,p as X,n as bt,o as z,E as gt,H as mt,t as Xe,u as Ae,v as _e,w as ne,x as Dt,y as yt,z as f,A as re,B as Et,I as ye,C as Qe,D as Pe,F as wt,G as Le,J as Mt,K as St,L as Tt,M as At,N as Ye,O as kt,P as Nt,Q as je,R as It,S as $t,T as Ct,V as Lt,W as Yt,X as et,Y as be,Z as Ft,_ as tt,$ as Ot,a0 as qt,a1 as ke,a2 as xt,a3 as Ve,a4 as Rt,a5 as Ht,a6 as Ut,a7 as Q,a8 as Pt,a9 as Vt,aa as Bt,ab as F,ac as ge,ad as U,ae as G,af as A,ag as T,ah as oe,ai as O,aj as me,ak as V,al as E,am as at,an as zt,ao as Be,ap as Gt,aq as ue,ar as K,as as Ne}from"./render.JBFD_BV0.js";const Zt="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zt);ht();function Jt(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const Ee=0,fe=1,we=2;function Wt(e,t,a,n,r){$&&Ce();var s=e,i=We(),l=ae,c=Te,v,h,S,u=(i?he:pe)(void 0),_=(i?he:pe)(void 0),o=!1;function y(g,w){o=!0,w&&(Re(b),He(b),Ue(l));try{g===fe&&n&&(h?ie(h):h=le(()=>n(s,u))),g!==Ee&&v&&X(v,()=>v=null),g!==fe&&h&&X(h,()=>h=null),g!==we&&S&&X(S,()=>S=null)}finally{w&&(Ue(null),He(null),Re(null),bt())}}var b=$e(()=>{if(c!==(c=t())){if(pt(c)){var g=c;o=!1,g.then(w=>{g===c&&(te(u,w),y(fe,!0))},w=>{if(g===c)throw te(_,w),y(we,!0),_.v}),$||Ke(()=>{o||y(Ee,!0)})}else te(u,c),y(fe,!1);return()=>c=Te}});$&&(s=z)}function nt(e,t,[a,n]=[0,0]){$&&a===0&&Ce();var r=e,s=null,i=null,l=Te,c=a>0?gt:0,v=!1;const h=(u,_=!0)=>{v=!0,S(_,u)},S=(u,_)=>{if(l===(l=u))return;let o=!1;if($&&n!==-1){if(a===0){const b=r.data;b===mt?n=0:b===Xe?n=1/0:(n=parseInt(b.substring(1)),n!==n&&(n=l?1/0:-1))}const y=n>a;!!l===y&&(r=Ae(),_e(r),ne(!1),o=!0,n=-1)}l?(s?ie(s):_&&(s=le(()=>_(r))),i&&X(i,()=>{i=null})):(i?ie(i):_&&(i=le(()=>_(r,[a+1,n]))),s&&X(s,()=>{s=null})),o&&ne(!0)};$e(()=>{v=!1,t(h),v||S(null,null)},c),$&&(r=z)}function ve(e,t){return t}function Kt(e,t,a,n){for(var r=[],s=t.length,i=0;i<s;i++)Mt(t[i].e,r,!0);var l=s>0&&r.length===0&&a!==null;if(l){var c=a.parentNode;St(c),c.append(a),n.clear(),P(e,t[0].prev,t[s-1].next)}Tt(r,()=>{for(var v=0;v<s;v++){var h=t[v];l||(n.delete(h.k),P(e,h.prev,h.next)),At(h.e,!l)}})}function ee(e,t,a,n,r,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&je)!==0;if(c){var v=e;i=$?_e(yt(v)):v.appendChild(Dt())}$&&Ce();var h=null,S=!1,u=re(()=>{var _=a();return wt(_)?_:_==null?[]:Qe(_)});$e(()=>{var _=f(u),o=_.length;if(S&&o===0)return;S=o===0;let y=!1;if($){var b=i.data===Xe;b!==(o===0)&&(i=Ae(),_e(i),ne(!1),y=!0)}if($){for(var g=null,w,k=0;k<o;k++){if(z.nodeType===8&&z.data===Et){i=z,y=!0,ne(!1);break}var d=_[k],D=n(d,k);w=rt(z,l,g,null,d,D,k,r,t,a),l.items.set(D,w),g=w}o>0&&_e(Ae())}$||Xt(_,l,i,r,t,n,a),s!==null&&(o===0?h?ie(h):h=le(()=>s(i)):h!==null&&X(h,()=>{h=null})),y&&ne(!0),f(u)}),$&&(i=z)}function Xt(e,t,a,n,r,s,i){var l=(r&It)!==0,c=(r&(Ye|Le))!==0,v=e.length,h=t.items,S=t.first,u=S,_,o=null,y,b=[],g=[],w,k,d,D;if(l)for(D=0;D<v;D+=1)w=e[D],k=s(w,D),d=h.get(k),d!==void 0&&(d.a?.measure(),(y??=new Set).add(d));for(D=0;D<v;D+=1){if(w=e[D],k=s(w,D),d=h.get(k),d===void 0){var R=u?u.e.nodes_start:a;o=rt(R,t,o,o===null?t.first:o.next,w,k,D,n,r,i),h.set(k,o),b=[],g=[],u=o.next;continue}if(c&&Qt(d,w,D,r),(d.e.f&ye)!==0&&(ie(d.e),l&&(d.a?.unfix(),(y??=new Set).delete(d))),d!==u){if(_!==void 0&&_.has(d)){if(b.length<g.length){var Y=g[0],p;o=Y.prev;var N=b[0],m=b[b.length-1];for(p=0;p<b.length;p+=1)ze(b[p],Y,a);for(p=0;p<g.length;p+=1)_.delete(g[p]);P(t,N.prev,m.next),P(t,o,N),P(t,m,Y),u=Y,o=m,D-=1,b=[],g=[]}else _.delete(d),ze(d,u,a),P(t,d.prev,d.next),P(t,d,o===null?t.first:o.next),P(t,o,d),o=d;continue}for(b=[],g=[];u!==null&&u.k!==k;)(u.e.f&ye)===0&&(_??=new Set).add(u),g.push(u),u=u.next;if(u===null)continue;d=u}b.push(d),o=d,u=d.next}if(u!==null||_!==void 0){for(var M=_===void 0?[]:Qe(_);u!==null;)(u.e.f&ye)===0&&M.push(u),u=u.next;var C=M.length;if(C>0){var q=(r&je)!==0&&v===0?a:null;if(l){for(D=0;D<C;D+=1)M[D].a?.measure();for(D=0;D<C;D+=1)M[D].a?.fix()}Kt(t,M,q,h)}}l&&Ke(()=>{if(y!==void 0)for(d of y)d.a?.apply()}),Pe.first=t.first&&t.first.e,Pe.last=o&&o.e}function Qt(e,t,a,n){(n&Ye)!==0&&te(e.v,t),(n&Le)!==0?te(e.i,a):e.i=a}function rt(e,t,a,n,r,s,i,l,c,v){var h=(c&Ye)!==0,S=(c&kt)===0,u=h?S?pe(r):he(r):r,_=(c&Le)===0?i:he(i),o={i:_,v:u,k:s,a:null,e:null,prev:a,next:n};try{return o.e=le(()=>l(e,u,_,v),$),o.e.prev=a&&a.e,o.e.next=n&&n.e,a===null?t.first=o:(a.next=o,a.e.next=o.e),n!==null&&(n.prev=o,n.e.prev=o.e),o}finally{}}function ze(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,s=e.e.nodes_start;s!==n;){var i=Nt(s);r.before(s),s=i}}function P(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function jt(e,t,a){var n=e==null?"":""+e;return n===""?null:n}function ea(e,t){return e==null?null:String(e)}function ta(e,t,a,n,r,s){var i=e.__className;if($||i!==a){var l=jt(a);(!$||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=a}return s}function st(e,t,a,n){var r=e.__style;if($||r!==t){var s=ea(t);(!$||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}return n}const aa=Symbol("is custom element"),na=Symbol("is html");function ce(e){if($){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Ge(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;Ge(e,"checked",null),e.checked=r}}};e.__on_r=a,$t(a),Ct()}}function Ge(e,t,a,n){var r=ra(e);$&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=a)&&(t==="loading"&&(e[Lt]=a),e.removeAttribute(t))}function ra(e){return e.__attributes??={[aa]:e.nodeName.includes("-"),[na]:e.namespaceURI===Yt}}function de(e,t,a=t){var n=We();et(e,"input",r=>{var s=r?e.defaultValue:e.value;if(s=Me(e)?Se(s):s,a(s),n&&s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),($&&e.defaultValue!==e.value||be(t)==null&&e.value)&&a(Me(e)?Se(e.value):e.value),Ft(()=>{var r=t();Me(e)&&r===Se(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Me(e){var t=e.type;return t==="number"||t==="range"}function Se(e){return e===""?null:+e}function it(e,t,a){if(e.multiple)return la(e,t);for(var n of e.options){var r=se(n);if(Ot(r,t)){n.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function sa(e,t){tt(()=>{var a=new MutationObserver(()=>{var n=e.__value;it(e,n)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function ia(e,t,a=t){var n=!0;et(e,"change",r=>{var s=r?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(s),se);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");i=l&&se(l)}a(i)}),tt(()=>{var r=t();if(it(e,r,n),n&&r===void 0){var s=e.querySelector(":checked");s!==null&&(r=se(s),a(r))}e.__value=r,n=!1}),sa(e)}function la(e,t){for(var a of e.options)a.selected=~t.indexOf(se(a))}function se(e){return"__value"in e?e.__value:e.value}function De(e=!1){const t=ae,a=t.l.u;if(!a)return;let n=()=>Rt(t.s);if(e){let r=0,s={};const i=Ht(()=>{let l=!1;const c=t.s;for(const v in c)c[v]!==s[v]&&(s[v]=c[v],l=!0);return l&&r++,r});n=()=>f(i)}a.b.length&&qt(()=>{Ze(t,n),Ve(a.b)}),ke(()=>{const r=be(()=>a.m.map(xt));return()=>{for(const s of r)typeof s=="function"&&s()}}),a.a.length&&ke(()=>{Ze(t,n),Ve(a.a)})}function Ze(e,t){if(e.l.s)for(const a of e.l.s)f(a);t()}function Fe(e){ae===null&&Jt(),Ut&&ae.l!==null?oa(ae).m.push(e):ke(()=>{const t=be(e);if(typeof t=="function")return t})}function oa(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function lt(e,t,a){if(e==null)return t(void 0),Q;const n=be(()=>e.subscribe(t,a));return n.unsubscribe?()=>n.unsubscribe():n}const W=[];function ua(e,t=Q){let a=null;const n=new Set;function r(l){if(Pt(e,l)&&(e=l,a)){const c=!W.length;for(const v of n)v[1](),W.push(v,e);if(c){for(let v=0;v<W.length;v+=2)W[v][0](W[v+1]);W.length=0}}}function s(l){r(l(e))}function i(l,c=Q){const v=[l,c];return n.add(v),n.size===1&&(a=t(r,s)||Q),l(e),()=>{n.delete(v),n.size===0&&a&&(a(),a=null)}}return{set:r,update:s,subscribe:i}}function fa(e){let t;return lt(e,a=>t=a)(),t}let Ie=Symbol();function ot(e,t,a){const n=a[t]??={store:null,source:pe(void 0),unsubscribe:Q};if(n.store!==e&&!(Ie in a))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Q;else{var r=!0;n.unsubscribe=lt(e,s=>{r?n.source.v=s:F(n.source,s)}),r=!1}return e&&Ie in a?fa(e):f(n.source)}function ut(){const e={};function t(){Vt(()=>{for(var a in e)e[a].unsubscribe();Bt(e,Ie,{enumerable:!1,value:!0})})}return[e,t]}const B=ua([]);function va(){const e=localStorage.getItem("calendarEvents");if(e){const t=JSON.parse(e).map(a=>({...a,startDate:new Date(a.startDate),endDate:new Date(a.endDate)}));B.set(t)}}function ca(e){localStorage.setItem("calendarEvents",JSON.stringify(e))}function Z(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Je(e){const t={month:"short",day:"numeric",year:"numeric"};return e.toLocaleDateString("en-US",t)}var da=U('<div class="form-container"><div class="form-title">Add New Event</div> <form><div class="form-group"><div class="form-field"><label for="event-name">Event Name</label> <input type="text" placeholder="Fall Semester" required></div> <div class="form-field"><label for="event-type">Event Type</label> <select><option>Academic Term</option><option>Internship</option><option>Break</option><option>Other</option></select></div> <div class="form-field"><label for="event-color">Color</label> <input type="color"></div></div> <div class="form-group"><div class="form-field"><label for="event-startdate">Start Date</label> <input type="date" required></div> <div class="form-field"><label for="event-enddate">End Date</label> <input type="date" required></div> <div class="form-field" style="display: flex; align-items: flex-end;"><button type="submit">Add Event</button></div></div></form></div>');function _a(e,t){ge(t,!1);let a=V(""),n=V("academic"),r=V("#4285F4"),s=V(""),i=V("");Fe(()=>{F(s,Z(new Date));const M=new Date;M.setMonth(M.getMonth()+1),F(i,Z(M))});function l(m){m.preventDefault();const M=new Date(`${f(s)}T00:00:00Z`),C=new Date(`${f(i)}T00:00:00Z`);if(M.setDate(M.getDate()+1),C.setDate(C.getDate()+1),M>C){alert("End date must be after start date");return}const q={id:Date.now(),name:f(a),type:f(n),color:f(r),startDate:M,endDate:C};B.update(I=>[...I,q]),F(a,"")}De();var c=da(),v=T(A(c),2),h=A(v),S=A(h),u=T(A(S),2);ce(u),E(S);var _=T(S,2),o=T(A(_),2);G(()=>{f(n),zt(()=>{})});var y=A(o);y.value=(y.__value="academic")==null?"":"academic";var b=T(y);b.value=(b.__value="internship")==null?"":"internship";var g=T(b);g.value=(g.__value="holiday")==null?"":"holiday";var w=T(g);w.value=(w.__value="other")==null?"":"other",E(o),E(_);var k=T(_,2),d=T(A(k),2);ce(d),E(k),E(h);var D=T(h,2),R=A(D),Y=T(A(R),2);ce(Y),E(R);var p=T(R,2),N=T(A(p),2);ce(N),E(p),at(2),E(D),E(v),E(c),de(u,()=>f(a),m=>F(a,m)),ia(o,()=>f(n),m=>F(n,m)),de(d,()=>f(r),m=>F(r,m)),de(Y,()=>f(s),m=>F(s,m)),de(N,()=>f(i),m=>F(i,m)),oe("submit",v,l),O(e,c),me()}var ha=U('<div class="weekday"> </div>'),pa=U('<div class="event-marker"></div>'),ba=U('<div> <div class="event-markers"><!></div></div>'),ga=U('<div class="month"><div class="month-header"> </div> <div class="weekdays"></div> <div class="days"></div></div>'),ma=U('<div class="calendar-header"><div class="current-range"> </div> <div class="nav-buttons"><button>← Previous</button> <button>Next →</button></div></div> <div class="calendar-container"><div class="months-container"></div></div>',1);function Da(e,t){ge(t,!1);const[a,n]=ut(),r=()=>ot(B,"$events",a),s=V();let i=V(null);const l=8;let c=V([]);Fe(()=>{console.log("CalendarGrid mounted!");const p=new Date;F(i,new Date(p.getFullYear(),p.getMonth(),1))});function v(){if(!f(i))return[];const p=[];for(let N=0;N<l;N++){const m=new Date(f(i));m.setMonth(m.getMonth()+N),p.push(m)}return p}function h(p){const N=[],m=new Date(p.getFullYear(),p.getMonth(),1),M=new Date(p.getFullYear(),p.getMonth()+1,0),C=m.getDay();if(C>0){const I=new Date(p);I.setMonth(I.getMonth()-1);const L=new Date(I.getFullYear(),I.getMonth()+1,0).getDate();for(let x=0;x<C;x++){const H=L-C+x+1,J=new Date(I.getFullYear(),I.getMonth(),H);N.push({date:J,otherMonth:!0})}}for(let I=1;I<=M.getDate();I++){const L=new Date(p.getFullYear(),p.getMonth(),I);N.push({date:L,otherMonth:!1})}const q=M.getDay();if(q<6)for(let I=1;I<=6-q;I++){const L=new Date(p);L.setMonth(L.getMonth()+1);const x=new Date(L.getFullYear(),L.getMonth(),I);N.push({date:x,otherMonth:!0})}return N}function S(p){const N=Z(p);return f(s).filter(m=>{const M=Z(m.startDate),C=Z(m.endDate);return N>=M&&N<=C})}function u(){f(i)&&(f(i).setMonth(f(i).getMonth()-l),F(i,new Date(f(i))))}function _(){f(i)&&(f(i).setMonth(f(i).getMonth()+l),F(i,new Date(f(i))))}function o(){if(!f(c).length)return"";const p=f(c)[0],N=f(c)[f(c).length-1],m=p.toLocaleString("default",{month:"long",year:"numeric"}),M=N.toLocaleString("default",{month:"long",year:"numeric"});return m===M?m:`${m} - ${M}`}Be(()=>r(),()=>{F(s,r())}),Be(()=>f(i),()=>{f(i)&&F(c,v())}),Gt(),De();var y=ma(),b=ue(y),g=A(b),w=A(g,!0);E(g);var k=T(g,2),d=A(k),D=T(d,2);E(k),E(b);var R=T(b,2),Y=A(R);ee(Y,5,()=>f(c),ve,(p,N)=>{var m=ga(),M=A(m),C=A(M,!0);E(M);var q=T(M,2);ee(q,4,()=>["Su","Mo","Tu","We","Th","Fr","Sa"],ve,(L,x)=>{var H=ha(),J=A(H,!0);E(H),G(()=>K(J,x)),O(L,H)}),E(q);var I=T(q,2);ee(I,5,()=>h(f(N)),ve,(L,x)=>{var H=ba(),J=A(H),Oe=T(J),ft=A(Oe);{var vt=j=>{var qe=Ne(),ct=ue(qe);ee(ct,1,()=>S(f(x).date),ve,(dt,_t)=>{var xe=pa();G(()=>st(xe,`background-color: ${f(_t).color??""}`)),O(dt,xe)}),O(j,qe)};nt(ft,j=>{f(x).otherMonth||j(vt)})}E(Oe),E(H),G(j=>{ta(H,1,`day ${(f(x).otherMonth?"other-month":"")??""}`),K(J,`${j??""} `)},[()=>f(x).date.getDate()],re),O(L,H)}),E(I),E(m),G(L=>K(C,L),[()=>f(N).toLocaleString("default",{month:"long",year:"numeric"})],re),O(p,m)}),E(Y),E(R),G(p=>K(w,p),[o],re),oe("click",d,u),oe("click",D,_),O(e,y),me(),n()}var ya=U('<div style="padding:15px; color:#5f6368">No events added yet.</div>'),Ea=U('<div class="event-item"><div class="event-color"></div> <div class="event-details"><div class="event-name"> </div> <div class="event-date"> </div></div> <button class="edit-btn">Edit</button> <button class="delete-btn">Delete</button></div>'),wa=U('<div class="event-list"><div class="event-list-header">Your Events</div> <div class="event-list-content"><!></div></div>');function Ma(e,t){ge(t,!1);const[a,n]=ut(),r=()=>ot(B,"$events",a);function s(h){B.update(S=>S.filter(u=>u.id!==h))}function i(h){let S;B.subscribe(y=>S=y)();const u=S.find(y=>y.id===h);if(!u)return;const _=prompt("Enter new start date (YYYY-MM-DD):",Z(u.startDate)),o=prompt("Enter new end date (YYYY-MM-DD):",Z(u.endDate));if(_&&o){const y=new Date(_),b=new Date(o);y<=b?B.update(g=>g.map(w=>w.id===h?{...w,startDate:y,endDate:b}:w)):alert("End date must be after start date.")}}De();var l=wa(),c=T(A(l),2),v=A(c);Wt(v,r,null,(h,S)=>{var u=Ne(),_=ue(u);{var o=b=>{var g=ya();O(b,g)},y=b=>{var g=Ne(),w=ue(g);ee(w,1,()=>f(S).sort((k,d)=>k.startDate-d.startDate),k=>k.id,(k,d)=>{var D=Ea(),R=A(D),Y=T(R,2),p=A(Y),N=A(p,!0);E(p);var m=T(p,2),M=A(m);E(m),E(Y);var C=T(Y,2),q=T(C,2);E(D),G((I,L)=>{st(R,`background-color: ${f(d).color??""};`),K(N,f(d).name),K(M,`${I??""} to ${L??""}`)},[()=>Je(f(d).startDate),()=>Je(f(d).endDate)],re),oe("click",C,()=>i(f(d).id)),oe("click",q,()=>s(f(d).id)),O(k,D)}),O(b,g)};nt(_,b=>{f(S).length===0?b(o):b(y,!1)})}O(h,u)}),E(c),E(l),O(e,l),me(),n()}var Sa=U('<div class="container"><h1>Simple Calendar Visualizer</h1> <!> <!> <!></div> <footer class="footer"><p>Made with 🩶 by <a href="https://jeffreyszhou.com/" target="_blank" rel="noopener noreferrer">Jeffrey Zhou</a> with <a href="https://astro.build/" target="_blank" rel="noopener noreferrer">Astro</a> + <a href="https://svelte.dev/" target="_blank" rel="noopener noreferrer">Svelte</a></p></footer>',1);function Aa(e,t){ge(t,!1);let a=!1;Fe(()=>{a=!0,va();const c=B.subscribe(v=>{a&&ca(v)});return()=>c()}),De();var n=Sa(),r=ue(n),s=T(A(r),2);_a(s,{});var i=T(s,2);Da(i,{});var l=T(i,2);Ma(l,{}),E(r),at(2),O(e,n),me()}export{Aa as default};
