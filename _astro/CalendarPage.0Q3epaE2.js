import{e as ht,i as Ze,b as Ce,h as C,a as Le,c as bt,U as Ae,d as te,s as he,m as be,q as Ke,f as Re,g as He,j as Ue,k as ae,r as ie,l as le,p as X,n as pt,o as G,E as mt,H as gt,t as Xe,u as Te,v as _e,w as ne,x as Dt,y as yt,z as f,A as re,B as Et,I as ye,C as Qe,D as Pe,F as wt,G as Ye,J as Mt,K as St,L as At,M as Tt,N as $e,O as Nt,P as It,Q as je,R as kt,S as Ct,T as Lt,V as Yt,W as $t,X as et,Y as pe,Z as Ft,_ as tt,$ as Ot,a0 as qt,a1 as Ne,a2 as xt,a3 as Ve,a4 as Rt,a5 as Ht,a6 as Ut,a7 as Q,a8 as Pt,a9 as Vt,aa as Bt,ab as F,ac as me,ad as U,ae as z,af as T,ag as S,ah as oe,ai as O,aj as ge,ak as V,al as E,am as at,an as Gt,ao as Be,ap as zt,aq as ue,ar as K,as as Ie}from"./render.JBFD_BV0.js";const Jt="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Jt);ht();function Wt(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const Ee=0,fe=1,we=2;function Zt(e,t,a,n,r){C&&Le();var s=e,i=Ze(),l=ae,c=Ae,v,h,M,u=(i?he:be)(void 0),_=(i?he:be)(void 0),o=!1;function y(m,w){o=!0,w&&(Re(p),He(p),Ue(l));try{m===fe&&n&&(h?ie(h):h=le(()=>n(s,u))),m!==Ee&&v&&X(v,()=>v=null),m!==fe&&h&&X(h,()=>h=null),m!==we&&M&&X(M,()=>M=null)}finally{w&&(Ue(null),He(null),Re(null),pt())}}var p=Ce(()=>{if(c!==(c=t())){if(bt(c)){var m=c;o=!1,m.then(w=>{m===c&&(te(u,w),y(fe,!0))},w=>{if(m===c)throw te(_,w),y(we,!0),_.v}),C||Ke(()=>{o||y(Ee,!0)})}else te(u,c),y(fe,!1);return()=>c=Ae}});C&&(s=G)}function nt(e,t,[a,n]=[0,0]){C&&a===0&&Le();var r=e,s=null,i=null,l=Ae,c=a>0?mt:0,v=!1;const h=(u,_=!0)=>{v=!0,M(_,u)},M=(u,_)=>{if(l===(l=u))return;let o=!1;if(C&&n!==-1){if(a===0){const p=r.data;p===gt?n=0:p===Xe?n=1/0:(n=parseInt(p.substring(1)),n!==n&&(n=l?1/0:-1))}const y=n>a;!!l===y&&(r=Te(),_e(r),ne(!1),o=!0,n=-1)}l?(s?ie(s):_&&(s=le(()=>_(r))),i&&X(i,()=>{i=null})):(i?ie(i):_&&(i=le(()=>_(r,[a+1,n]))),s&&X(s,()=>{s=null})),o&&ne(!0)};Ce(()=>{v=!1,t(h),v||M(null,null)},c),C&&(r=G)}function ve(e,t){return t}function Kt(e,t,a,n){for(var r=[],s=t.length,i=0;i<s;i++)Mt(t[i].e,r,!0);var l=s>0&&r.length===0&&a!==null;if(l){var c=a.parentNode;St(c),c.append(a),n.clear(),P(e,t[0].prev,t[s-1].next)}At(r,()=>{for(var v=0;v<s;v++){var h=t[v];l||(n.delete(h.k),P(e,h.prev,h.next)),Tt(h.e,!l)}})}function ee(e,t,a,n,r,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&je)!==0;if(c){var v=e;i=C?_e(yt(v)):v.appendChild(Dt())}C&&Le();var h=null,M=!1,u=re(()=>{var _=a();return wt(_)?_:_==null?[]:Qe(_)});Ce(()=>{var _=f(u),o=_.length;if(M&&o===0)return;M=o===0;let y=!1;if(C){var p=i.data===Xe;p!==(o===0)&&(i=Te(),_e(i),ne(!1),y=!0)}if(C){for(var m=null,w,N=0;N<o;N++){if(G.nodeType===8&&G.data===Et){i=G,y=!0,ne(!1);break}var d=_[N],D=n(d,N);w=rt(G,l,m,null,d,D,N,r,t,a),l.items.set(D,w),m=w}o>0&&_e(Te())}C||Xt(_,l,i,r,t,n,a),s!==null&&(o===0?h?ie(h):h=le(()=>s(i)):h!==null&&X(h,()=>{h=null})),y&&ne(!0),f(u)}),C&&(i=G)}function Xt(e,t,a,n,r,s,i){var l=(r&kt)!==0,c=(r&($e|Ye))!==0,v=e.length,h=t.items,M=t.first,u=M,_,o=null,y,p=[],m=[],w,N,d,D;if(l)for(D=0;D<v;D+=1)w=e[D],N=s(w,D),d=h.get(N),d!==void 0&&(d.a?.measure(),(y??=new Set).add(d));for(D=0;D<v;D+=1){if(w=e[D],N=s(w,D),d=h.get(N),d===void 0){var R=u?u.e.nodes_start:a;o=rt(R,t,o,o===null?t.first:o.next,w,N,D,n,r,i),h.set(N,o),p=[],m=[],u=o.next;continue}if(c&&Qt(d,w,D,r),(d.e.f&ye)!==0&&(ie(d.e),l&&(d.a?.unfix(),(y??=new Set).delete(d))),d!==u){if(_!==void 0&&_.has(d)){if(p.length<m.length){var $=m[0],b;o=$.prev;var I=p[0],g=p[p.length-1];for(b=0;b<p.length;b+=1)Ge(p[b],$,a);for(b=0;b<m.length;b+=1)_.delete(m[b]);P(t,I.prev,g.next),P(t,o,I),P(t,g,$),u=$,o=g,D-=1,p=[],m=[]}else _.delete(d),Ge(d,u,a),P(t,d.prev,d.next),P(t,d,o===null?t.first:o.next),P(t,o,d),o=d;continue}for(p=[],m=[];u!==null&&u.k!==N;)(u.e.f&ye)===0&&(_??=new Set).add(u),m.push(u),u=u.next;if(u===null)continue;d=u}p.push(d),o=d,u=d.next}if(u!==null||_!==void 0){for(var A=_===void 0?[]:Qe(_);u!==null;)(u.e.f&ye)===0&&A.push(u),u=u.next;var L=A.length;if(L>0){var q=(r&je)!==0&&v===0?a:null;if(l){for(D=0;D<L;D+=1)A[D].a?.measure();for(D=0;D<L;D+=1)A[D].a?.fix()}Kt(t,A,q,h)}}l&&Ke(()=>{if(y!==void 0)for(d of y)d.a?.apply()}),Pe.first=t.first&&t.first.e,Pe.last=o&&o.e}function Qt(e,t,a,n){(n&$e)!==0&&te(e.v,t),(n&Ye)!==0?te(e.i,a):e.i=a}function rt(e,t,a,n,r,s,i,l,c,v){var h=(c&$e)!==0,M=(c&Nt)===0,u=h?M?be(r):he(r):r,_=(c&Ye)===0?i:he(i),o={i:_,v:u,k:s,a:null,e:null,prev:a,next:n};try{return o.e=le(()=>l(e,u,_,v),C),o.e.prev=a&&a.e,o.e.next=n&&n.e,a===null?t.first=o:(a.next=o,a.e.next=o.e),n!==null&&(n.prev=o,n.e.prev=o.e),o}finally{}}function Ge(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,s=e.e.nodes_start;s!==n;){var i=It(s);r.before(s),s=i}}function P(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function jt(e,t,a){var n=e==null?"":""+e;return n===""?null:n}function ea(e,t){return e==null?null:String(e)}function ta(e,t,a,n,r,s){var i=e.__className;if(C||i!==a){var l=jt(a);(!C||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=a}return s}function st(e,t,a,n){var r=e.__style;if(C||r!==t){var s=ea(t);(!C||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}return n}const aa=Symbol("is custom element"),na=Symbol("is html");function ce(e){if(C){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;ze(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;ze(e,"checked",null),e.checked=r}}};e.__on_r=a,Ct(a),Lt()}}function ze(e,t,a,n){var r=ra(e);C&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=a)&&(t==="loading"&&(e[Yt]=a),e.removeAttribute(t))}function ra(e){return e.__attributes??={[aa]:e.nodeName.includes("-"),[na]:e.namespaceURI===$t}}function de(e,t,a=t){var n=Ze();et(e,"input",r=>{var s=r?e.defaultValue:e.value;if(s=Me(e)?Se(s):s,a(s),n&&s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),(C&&e.defaultValue!==e.value||pe(t)==null&&e.value)&&a(Me(e)?Se(e.value):e.value),Ft(()=>{var r=t();Me(e)&&r===Se(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Me(e){var t=e.type;return t==="number"||t==="range"}function Se(e){return e===""?null:+e}function it(e,t,a){if(e.multiple)return la(e,t);for(var n of e.options){var r=se(n);if(Ot(r,t)){n.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function sa(e,t){tt(()=>{var a=new MutationObserver(()=>{var n=e.__value;it(e,n)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function ia(e,t,a=t){var n=!0;et(e,"change",r=>{var s=r?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(s),se);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");i=l&&se(l)}a(i)}),tt(()=>{var r=t();if(it(e,r,n),n&&r===void 0){var s=e.querySelector(":checked");s!==null&&(r=se(s),a(r))}e.__value=r,n=!1}),sa(e)}function la(e,t){for(var a of e.options)a.selected=~t.indexOf(se(a))}function se(e){return"__value"in e?e.__value:e.value}function De(e=!1){const t=ae,a=t.l.u;if(!a)return;let n=()=>Rt(t.s);if(e){let r=0,s={};const i=Ht(()=>{let l=!1;const c=t.s;for(const v in c)c[v]!==s[v]&&(s[v]=c[v],l=!0);return l&&r++,r});n=()=>f(i)}a.b.length&&qt(()=>{Je(t,n),Ve(a.b)}),Ne(()=>{const r=pe(()=>a.m.map(xt));return()=>{for(const s of r)typeof s=="function"&&s()}}),a.a.length&&Ne(()=>{Je(t,n),Ve(a.a)})}function Je(e,t){if(e.l.s)for(const a of e.l.s)f(a);t()}function Fe(e){ae===null&&Wt(),Ut&&ae.l!==null?oa(ae).m.push(e):Ne(()=>{const t=pe(e);if(typeof t=="function")return t})}function oa(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function lt(e,t,a){if(e==null)return t(void 0),Q;const n=pe(()=>e.subscribe(t,a));return n.unsubscribe?()=>n.unsubscribe():n}const Z=[];function ua(e,t=Q){let a=null;const n=new Set;function r(l){if(Pt(e,l)&&(e=l,a)){const c=!Z.length;for(const v of n)v[1](),Z.push(v,e);if(c){for(let v=0;v<Z.length;v+=2)Z[v][0](Z[v+1]);Z.length=0}}}function s(l){r(l(e))}function i(l,c=Q){const v=[l,c];return n.add(v),n.size===1&&(a=t(r,s)||Q),l(e),()=>{n.delete(v),n.size===0&&a&&(a(),a=null)}}return{set:r,update:s,subscribe:i}}function fa(e){let t;return lt(e,a=>t=a)(),t}let ke=Symbol();function ot(e,t,a){const n=a[t]??={store:null,source:be(void 0),unsubscribe:Q};if(n.store!==e&&!(ke in a))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Q;else{var r=!0;n.unsubscribe=lt(e,s=>{r?n.source.v=s:F(n.source,s)}),r=!1}return e&&ke in a?fa(e):f(n.source)}function ut(){const e={};function t(){Vt(()=>{for(var a in e)e[a].unsubscribe();Bt(e,ke,{enumerable:!1,value:!0})})}return[e,t]}const B=ua([]);function va(){const e=localStorage.getItem("calendarEvents");if(e){const t=JSON.parse(e).map(a=>({...a,startDate:new Date(a.startDate),endDate:new Date(a.endDate)}));B.set(t)}}function ca(e){localStorage.setItem("calendarEvents",JSON.stringify(e))}function J(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function We(e){const t={month:"short",day:"numeric",year:"numeric"};return e.toLocaleDateString("en-US",t)}var da=U('<div class="form-container"><div class="form-title">Add New Event</div> <form><div class="form-group"><div class="form-field"><label for="event-name">Event Name</label> <input type="text" placeholder="Fall Semester" required></div> <div class="form-field"><label for="event-type">Event Type</label> <select><option>Academic Term</option><option>Internship</option><option>Break</option><option>Other</option></select></div> <div class="form-field"><label for="event-color">Color</label> <input type="color"></div></div> <div class="form-group"><div class="form-field"><label for="event-startdate">Start Date</label> <input type="date" required></div> <div class="form-field"><label for="event-enddate">End Date</label> <input type="date" required></div> <div class="form-field" style="display: flex; align-items: flex-end;"><button type="submit">Add Event</button></div></div></form></div>');function _a(e,t){me(t,!1);let a=V(""),n=V("academic"),r=V("#4285F4"),s=V(""),i=V("");Fe(()=>{F(s,J(new Date));const A=new Date;A.setMonth(A.getMonth()+1),F(i,J(A))});function l(g){g.preventDefault();const A=new Date(f(s)),L=new Date(f(i));if(A>L){alert("End date must be after start date");return}const q={id:Date.now(),name:f(a),type:f(n),color:f(r),startDate:A,endDate:L};B.update(k=>[...k,q]),F(a,"")}De();var c=da(),v=S(T(c),2),h=T(v),M=T(h),u=S(T(M),2);ce(u),E(M);var _=S(M,2),o=S(T(_),2);z(()=>{f(n),Gt(()=>{})});var y=T(o);y.value=(y.__value="academic")==null?"":"academic";var p=S(y);p.value=(p.__value="internship")==null?"":"internship";var m=S(p);m.value=(m.__value="holiday")==null?"":"holiday";var w=S(m);w.value=(w.__value="other")==null?"":"other",E(o),E(_);var N=S(_,2),d=S(T(N),2);ce(d),E(N),E(h);var D=S(h,2),R=T(D),$=S(T(R),2);ce($),E(R);var b=S(R,2),I=S(T(b),2);ce(I),E(b),at(2),E(D),E(v),E(c),de(u,()=>f(a),g=>F(a,g)),ia(o,()=>f(n),g=>F(n,g)),de(d,()=>f(r),g=>F(r,g)),de($,()=>f(s),g=>F(s,g)),de(I,()=>f(i),g=>F(i,g)),oe("submit",v,l),O(e,c),ge()}var ha=U('<div class="weekday"> </div>'),ba=U('<div class="event-marker"></div>'),pa=U('<div> <div class="event-markers"><!></div></div>'),ma=U('<div class="month"><div class="month-header"> </div> <div class="weekdays"></div> <div class="days"></div></div>'),ga=U('<div class="calendar-header"><div class="current-range"> </div> <div class="nav-buttons"><button>← Previous</button> <button>Next →</button></div></div> <div class="calendar-container"><div class="months-container"></div></div>',1);function Da(e,t){me(t,!1);const[a,n]=ut(),r=()=>ot(B,"$events",a),s=V();let i=V(null);const l=8;let c=V([]);Fe(()=>{console.log("CalendarGrid mounted!");const b=new Date;F(i,new Date(b.getFullYear(),b.getMonth(),1))});function v(){if(!f(i))return[];const b=[];for(let I=0;I<l;I++){const g=new Date(f(i));g.setMonth(g.getMonth()+I),b.push(g)}return b}function h(b){const I=[],g=new Date(b.getFullYear(),b.getMonth(),1),A=new Date(b.getFullYear(),b.getMonth()+1,0),L=g.getDay();if(L>0){const k=new Date(b);k.setMonth(k.getMonth()-1);const Y=new Date(k.getFullYear(),k.getMonth()+1,0).getDate();for(let x=0;x<L;x++){const H=Y-L+x+1,W=new Date(k.getFullYear(),k.getMonth(),H);I.push({date:W,otherMonth:!0})}}for(let k=1;k<=A.getDate();k++){const Y=new Date(b.getFullYear(),b.getMonth(),k);I.push({date:Y,otherMonth:!1})}const q=A.getDay();if(q<6)for(let k=1;k<=6-q;k++){const Y=new Date(b);Y.setMonth(Y.getMonth()+1);const x=new Date(Y.getFullYear(),Y.getMonth(),k);I.push({date:x,otherMonth:!0})}return I}function M(b){const I=J(b);return f(s).filter(g=>{const A=J(g.startDate),L=J(g.endDate);return I>=A&&I<=L})}function u(){f(i)&&(f(i).setMonth(f(i).getMonth()-l),F(i,new Date(f(i))))}function _(){f(i)&&(f(i).setMonth(f(i).getMonth()+l),F(i,new Date(f(i))))}function o(){if(!f(c).length)return"";const b=f(c)[0],I=f(c)[f(c).length-1],g=b.toLocaleString("default",{month:"long",year:"numeric"}),A=I.toLocaleString("default",{month:"long",year:"numeric"});return g===A?g:`${g} - ${A}`}Be(()=>r(),()=>{F(s,r())}),Be(()=>f(i),()=>{f(i)&&F(c,v())}),zt(),De();var y=ga(),p=ue(y),m=T(p),w=T(m,!0);E(m);var N=S(m,2),d=T(N),D=S(d,2);E(N),E(p);var R=S(p,2),$=T(R);ee($,5,()=>f(c),ve,(b,I)=>{var g=ma(),A=T(g),L=T(A,!0);E(A);var q=S(A,2);ee(q,4,()=>["Su","Mo","Tu","We","Th","Fr","Sa"],ve,(Y,x)=>{var H=ha(),W=T(H,!0);E(H),z(()=>K(W,x)),O(Y,H)}),E(q);var k=S(q,2);ee(k,5,()=>h(f(I)),ve,(Y,x)=>{var H=pa(),W=T(H),Oe=S(W),ft=T(Oe);{var vt=j=>{var qe=Ie(),ct=ue(qe);ee(ct,1,()=>M(f(x).date),ve,(dt,_t)=>{var xe=ba();z(()=>st(xe,`background-color: ${f(_t).color??""}`)),O(dt,xe)}),O(j,qe)};nt(ft,j=>{f(x).otherMonth||j(vt)})}E(Oe),E(H),z(j=>{ta(H,1,`day ${(f(x).otherMonth?"other-month":"")??""}`),K(W,`${j??""} `)},[()=>f(x).date.getDate()],re),O(Y,H)}),E(k),E(g),z(Y=>K(L,Y),[()=>f(I).toLocaleString("default",{month:"long",year:"numeric"})],re),O(b,g)}),E($),E(R),z(b=>K(w,b),[o],re),oe("click",d,u),oe("click",D,_),O(e,y),ge(),n()}var ya=U('<div style="padding:15px; color:#5f6368">No events added yet.</div>'),Ea=U('<div class="event-item"><div class="event-color"></div> <div class="event-details"><div class="event-name"> </div> <div class="event-date"> </div></div> <button class="edit-btn">Edit</button> <button class="delete-btn">Delete</button></div>'),wa=U('<div class="event-list"><div class="event-list-header">Your Events</div> <div class="event-list-content"><!></div></div>');function Ma(e,t){me(t,!1);const[a,n]=ut(),r=()=>ot(B,"$events",a);function s(h){B.update(M=>M.filter(u=>u.id!==h))}function i(h){let M;B.subscribe(y=>M=y)();const u=M.find(y=>y.id===h);if(!u)return;const _=prompt("Enter new start date (YYYY-MM-DD):",J(u.startDate)),o=prompt("Enter new end date (YYYY-MM-DD):",J(u.endDate));if(_&&o){const y=new Date(_),p=new Date(o);y<=p?B.update(m=>m.map(w=>w.id===h?{...w,startDate:y,endDate:p}:w)):alert("End date must be after start date.")}}De();var l=wa(),c=S(T(l),2),v=T(c);Zt(v,r,null,(h,M)=>{var u=Ie(),_=ue(u);{var o=p=>{var m=ya();O(p,m)},y=p=>{var m=Ie(),w=ue(m);ee(w,1,()=>f(M).sort((N,d)=>N.startDate-d.startDate),N=>N.id,(N,d)=>{var D=Ea(),R=T(D),$=S(R,2),b=T($),I=T(b,!0);E(b);var g=S(b,2),A=T(g);E(g),E($);var L=S($,2),q=S(L,2);E(D),z((k,Y)=>{st(R,`background-color: ${f(d).color??""};`),K(I,f(d).name),K(A,`${k??""} to ${Y??""}`)},[()=>We(f(d).startDate),()=>We(f(d).endDate)],re),oe("click",L,()=>i(f(d).id)),oe("click",q,()=>s(f(d).id)),O(N,D)}),O(p,m)};nt(_,p=>{f(M).length===0?p(o):p(y,!1)})}O(h,u)}),E(c),E(l),O(e,l),ge(),n()}var Sa=U('<div class="container"><h1>Simple Calendar Visualizer</h1> <!> <!> <!></div> <footer class="footer"><p>Made with 🩶 by Jeffrey Zhou with Astro + Svelte</p></footer>',1);function Ta(e,t){me(t,!1);let a=!1;Fe(()=>{a=!0,va();const c=B.subscribe(v=>{a&&ca(v)});return()=>c()}),De();var n=Sa(),r=ue(n),s=S(T(r),2);_a(s,{});var i=S(s,2);Da(i,{});var l=S(i,2);Ma(l,{}),E(r),at(2),O(e,n),ge()}export{Ta as default};
